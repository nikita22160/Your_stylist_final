import { useState } from 'react';
import { useSelector } from 'react-redux';
import { useNavigate } from 'react-router-dom';
import SignIn from '../components/SignIn';

export default function UserApprovePage() {
    const { isAuthenticated, user } = useSelector((state) => state.auth);
    const navigate = useNavigate();
    const [modalType, setModalType] = useState(null);

    const handleUserIconClick = () => {
        if (!isAuthenticated) {
            setModalType('signin');
        } else {
            navigate('/profile'); // Перенаправляем на страницу профиля
        }
    };

    const closeModal = () => {
        setModalType(null);
    };

    const switchToRegister = () => {
        setModalType('register');
        navigate('/'); // Перенаправляем на главную страницу для регистрации
    };

    const handleBackToCatalog = () => {
        navigate('/catalog');
    };

    return (
        <div className="main-container">
            <div onClick={handleBackToCatalog} className="back-btn">
                <img src="/img/back.svg" alt="Назад" />
            </div>
            <div className="stylist-page-header" onClick={() => navigate('/')}>
                ТВОЙ СТИЛИСТ
            </div>

            <div className="user-approve-cont">
                <h2>ПОЛЬЗОВАТЕЛЬСКОЕ СОГЛАШЕНИЕ</h2>

                <h3>1. Общие положения</h3>
                <p>
                    1.1. Настоящее Пользовательское соглашение (далее — «Соглашение») является публичной офертой (ст. 435, п. 2 ст. 437 ГК РФ). Оно регулирует использование материалов и сервисов сайта stylesearch.ru (далее — «Сайт»).
                </p>
                <p>
                    1.2. Администратор Сайта — физическое лицо:<br />
                    Карасев Никита Денисович<br />
                    Паспорт: 6523828618<br />
                    Адрес регистрации: Свердловская обл., г. Красноуральск, ул. Устинова, д. 112, кв. 33<br />
                    Банковские реквизиты: 2200701090375962<br />
                    Контактные данные:<br />
                    Email: <a href="mailto:n.d.karasev@yandex.ru">n.d.karasev@yandex.ru</a><br />
                    Телефон: <a href="tel:+79120388094">+7 (912) 038-80-94</a>
                </p>
                <p>
                    1.3. Пользователь — любое лицо (физическое/юридическое), принявшее условия Соглашения.
                </p>

                <h3>2. Тарифы (если принимаются платежи за услуги)</h3>
                <p>
                    2.1. На Сайте предоставляются следующие услуги:<br />
                    - Доступ к базе данных стилистов<br />
                    - Запись на консультации со стилистами<br />
                    - Создание портфолио для стилистов<br />
                    - Уведомления через Telegram
                </p>
                <p>
                    2.2. Стоимость услуг:<br />
                    - За час работы со стилистом: 3500 руб.<br />
                    - За день работы со стилистом: 20000 руб.<br />
                    - Собрать образ для мероприятия: 7000 руб.<br />
                    - Консультация по стилю: 5000 руб.<br />
                    - Разбор гардероба: 8000 руб.<br />
                    - Шопинг-сопровождение: 4000 руб.
                </p>
                <p>
                    2.3. Оплата услуг осуществляется через платежный сервис ЮКасса. Возврат средств возможен в течение 14 дней при отказе от услуги, если она не была оказана.
                </p>

                <h3>3. Условия использования</h3>
                <p>
                    3.1. Начиная использование Сайта, Пользователь автоматически принимает Соглашение. При несогласии — обязан прекратить доступ к Сайту.
                </p>
                <p>
                    3.2. Использование материалов Сайта (тексты, изображения, дизайн) разрешено только с письменного согласия Администратора. При цитировании обязательна ссылка на stylesearch.ru.
                </p>

                <h3>4. Обязанности Пользователя</h3>
                <p>
                    4.1. Пользователь обязуется:<br />
                    - Не нарушать авторские права правообладателей.<br />
                    - Не использовать материалы в коммерческих целях без разрешения.
                </p>

                <h3>5. Ответственность</h3>
                <p>
                    5.1. Администратор не несет ответственности:<br />
                    - За убытки, связанные с использованием Сайта.<br />
                    - За содержание внешних ресурсов, доступных через ссылки на Сайте.
                </p>

                <h3>6. Заключительные положения</h3>
                <p>
                    6.1. Споры решаются в соответствии с законодательством РФ.<br />
                    6.2. Соглашение действует в электронной форме и не требует подписания.<br />
                    6.3. Все изменения в Соглашении публикуются на Сайте.
                </p>

                <p>
                    <strong>Реквизиты и подпись Администратора:</strong><br />
                    ФИО: Карасев Никита Денисович<br />
                    Дата: 29.04.2025
                </p>

                <h3>Реквизиты компаний:</h3>
                <p>
                    Название организации: ИНДИВИДУАЛЬНЫЙ ПРЕДПРИНИМАТЕЛЬ ЯКУБОВСКАЯ ЮЛИЯ ДЕНИСОВНА<br />
                    Юридический адрес организации: 624335, РОССИЯ, СВЕРДЛОВСКАЯ ОБЛ, Г КРАСНОУРАЛЬСК, УЛ УСТИНОВА, Д 112, КВ 9<br />
                    ИНН: 668102105107<br />
                    ОГРН/ОГРНИП: 323665800263401<br />
                    Расчетный счет: 40802810700005807158<br />
                    Банк: АО «ТБанк»<br />
                    ИНН банка: 7710140679<br />
                    БИК банка: 044525974<br />
                    Корреспондентский счет банка: 30101810145250000974<br />
                    Юридический адрес банка: 127287, г. Москва, ул. Хуторская 2-я, д. 38А, стр. 26
                </p>
            </div>

            {modalType && (
                <div className="modal-overlay" onClick={closeModal}>
                    <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                        <SignIn closeModal={closeModal} switchToRegister={switchToRegister} />
                    </div>
                </div>
            )}
        </div>
    );
}